<!DOCTYPE html>
<html>
  <head>
    <title>Học Rxswift  cấp tốc  trong 10 phút 👨🏻‍💻 – Codedeman – Code là bug</title>

        <meta charset="utf-8" />
    <meta content='text/html; charset=utf-8' http-equiv='Content-Type'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0'>

    
    <meta name="description" content="Sau 2 tháng tìm hiều về Rxswift hôm nay mình xin mạn phép, chia sẻ những gì mà mình học được trong 2 tháng vừa qua .Để không làm mất thời gian bài viết này  mình sẽ chỉ nói sơ qua về khái niệm, mà không đi sâu vào cụ thể  của từng thành phần, và mình cũng  sẽ code để demo các cách thức hoạt động của các thành phần để xem nó ra sao . Dân IT nên thích làm hơn là học lý thuyết suông, có người từng bảo với mình rằng “Nên làm để học thay vì học để làm “ điều đó sẽ thấy thú vị hơn là học một đống lý thuyết, mà không áp dụng được vào thực tế,  sau bao năm ngẫm lại vẫn thấy anh ấy nói đúng. Mong rằng bài viết sẽ hữu ích cho các bạn mới tiếp cận với RxSwift.

" />
    <meta property="og:description" content="Sau 2 tháng tìm hiều về Rxswift hôm nay mình xin mạn phép, chia sẻ những gì mà mình học được trong 2 tháng vừa qua .Để không làm mất thời gian bài viết này  mình sẽ chỉ nói sơ qua về khái niệm, mà không đi sâu vào cụ thể  của từng thành phần, và mình cũng  sẽ code để demo các cách thức hoạt động của các thành phần để xem nó ra sao . Dân IT nên thích làm hơn là học lý thuyết suông, có người từng bảo với mình rằng “Nên làm để học thay vì học để làm “ điều đó sẽ thấy thú vị hơn là học một đống lý thuyết, mà không áp dụng được vào thực tế,  sau bao năm ngẫm lại vẫn thấy anh ấy nói đúng. Mong rằng bài viết sẽ hữu ích cho các bạn mới tiếp cận với RxSwift.

" />
    
    <meta name="author" content="Codedeman" />

    
    <meta property="og:title" content="Học Rxswift  cấp tốc  trong 10 phút 👨🏻‍💻" />
    <meta property="twitter:title" content="Học Rxswift  cấp tốc  trong 10 phút 👨🏻‍💻" />
    

    <!--[if lt IE 9]>
      <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="alternate" type="application/rss+xml" title="Codedeman - Code là bug" href="/feed.xml" />

    <!-- Created with Jekyll Now - http://github.com/barryclark/jekyll-now -->
  </head>

  <body>
    <div class="wrapper-masthead">
      <div class="container">
        <header class="masthead clearfix">
          <a href="/" class="site-avatar"><img src="https://i.imgur.com/AzHFWzc.jpg" /></a>

          <div class="site-info">
            <h1 class="site-name"><a href="/">Codedeman</a></h1>
            <p class="site-description">Code là bug</p>
          </div>

          <nav>
            <a href="/">Blog</a>
            <a href="https://www.goodreads.com/review/list/100770861-kevin-pham?print=true">Sách mình đang đọc </a>
            <a href="/about">About</a>
          </nav>
        </header>
      </div>
    </div>

    <div id="main" role="main" class="container">
      <article class="post">
  <h1>Học Rxswift  cấp tốc  trong 10 phút 👨🏻‍💻</h1>

  <div class="entry">
    <p>Sau 2 tháng tìm hiều về Rxswift hôm nay mình xin mạn phép, chia sẻ những gì mà mình học được trong 2 tháng vừa qua .Để không làm mất thời gian bài viết này  mình sẽ chỉ nói sơ qua về khái niệm, mà không đi sâu vào cụ thể  của từng thành phần, và mình cũng  sẽ code để demo các cách thức hoạt động của các thành phần để xem nó ra sao . Dân IT nên thích làm hơn là học lý thuyết suông, có người từng bảo với mình rằng “Nên làm để học thay vì học để làm “ điều đó sẽ thấy thú vị hơn là học một đống lý thuyết, mà không áp dụng được vào thực tế,  sau bao năm ngẫm lại vẫn thấy anh ấy nói đúng. Mong rằng bài viết sẽ hữu ích cho các bạn mới tiếp cận với RxSwift.</p>

<h3 id="rxswift-là-gì">RxSwift là gì</h3>
<p>RxSwift là một phiên bản Reactive Extension được viết bằng ngôn ngữ Swift. ReactiveX là sự kết hợp của những ý tưởng hay nhất từ Observer pattern, Iterator pattern và functional programming.
RxSwift sẽ giúp công việc của bạn trở nên đơn giản hơn. Thay cho notifications, một đối tượng khó để test, ta có thể sử dụng signals. Thay cho delegates, thứ tốn rất nhiều code, ta có thể viết blocks và bỏ điswitches/ifs lồng nhau. Ta còn có thể sử dụng KVO, IBActions, filters, MVVM và nhiều tiện ích khác được hỗ trợ mượt mà trong RxSwift.</p>

<h3 id="1--observable-sequences-">1  Observable Sequences 🎞</h3>
<p>Đầu tiên bạn cần phải hiểu  mọi thứ trong Rxswift là  observable sequence từ  subscribes đến xử lý  sự kiện thông qua  bởi một observable sequence. Các kiểu dữ liệu như Array String hoặc Dictionary sẽ được convert sang một observable sequence  hoặc bất cứ đối tượng nào tuân theo Sequence Protocol của Swift Standard Library</p>

<h3 id="tạo-một-vài-observable-sequences-xem-thế-nào-nhé">Tạo một vài observable sequences xem thế nào nhé</h3>

<pre><code class="language-swif">   
   let helloSequence = Observable.just("Hello Rx")
   let fibonacciSequence = Observable.from([0,1,1,2,3,5,8])
   let dictSequence = Observable.from([1:"Hello",2:"World"])
</code></pre>
<p>Bạn đăng ký một  observable sequences bằng câu lệnh  subscribe(on:(Event<T>)-&gt; ()).</T></p>

<p>Qua block sẽ nhận được tất cả events được phát ra bởi sequence.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   
   <span class="k">let</span> <span class="nv">helloSequence</span> <span class="o">=</span> <span class="kt">Observable</span><span class="o">.</span><span class="nf">of</span><span class="p">(</span><span class="s">"Hello Rx"</span><span class="p">)</span>
   <span class="k">let</span> <span class="nv">subscription</span> <span class="o">=</span> <span class="n">helloSequence</span><span class="o">.</span><span class="n">subscribe</span> <span class="p">{</span> <span class="n">event</span> <span class="k">in</span>
     <span class="nf">print</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
   <span class="p">}</span>
   <span class="kt">OUTPUT</span><span class="p">:</span> 
   <span class="nf">next</span><span class="p">(</span><span class="s">"Hello Rx"</span><span class="p">)</span> 
   <span class="n">completed</span>
   
</code></pre></div></div>

<p>Observable sequences có thể phát ra không hoặc nhiều  event trong vòng đời của nó 
Trong Rxswift  một Event  như một Enumeration Type (Nôm na là  danh sách các trường hợp )có với 3 trạng thái</p>

<p>.next(value: T) — xảy ra khi một hay một tập hợp các giá trị được bổ sung thêm vào Observable sequences, nó sẽ gửi next event cho các subscribers đã đăng ký ở ví dụ trên.</p>

<p>.error(error: Error) — Nếu gặp phải Error một chuỗi sẽ phát ra sự kiện lỗi , và sẽ kết thúc Observable sequences</p>

<p>.completed — Nếu một chuỗi kết thúc nó sẽ gửi event hoàn thành gửi đến cho các  subscribers</p>

<h3 id="2--subjects">2  Subjects</h3>

<h2 id="publishsubject">PublishSubject</h2>
<p>Chỉ phát ra sự kiện mới nhất của  subscribers , do đó bất cứ sự kiện nào trước  subscribers sẽ không được phát ra 
 Ví  dụ  thực tế  publish  giống như  một thằng vào lớp muộn nhưng chỉ cần nghe 1 điểm nó cần nghe</p>

<p>code example</p>
<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code>     <span class="k">let</span> <span class="nv">subject</span> <span class="o">=</span> <span class="kt">PublishSubject</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="p">()</span>

     <span class="n">subject</span><span class="o">.</span><span class="nf">onNext</span><span class="p">(</span><span class="s">"Emmit 1"</span><span class="p">)</span>

     <span class="n">subject</span><span class="o">.</span><span class="nf">subscribe</span><span class="p">(</span><span class="nv">onNext</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="n">event</span><span class="p">)</span> <span class="k">in</span>

     <span class="nf">print</span><span class="p">(</span><span class="s">"event </span><span class="se">\(</span><span class="n">event</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
     <span class="p">})</span><span class="o">.</span><span class="nf">disposed</span><span class="p">(</span><span class="nv">by</span><span class="p">:</span> <span class="n">disposeBag</span><span class="p">)</span>

     <span class="n">subject</span><span class="o">.</span><span class="nf">onNext</span><span class="p">(</span><span class="s">"Emmit 2"</span><span class="p">)</span>
</code></pre></div></div>
<p>Kết quả sẽ là  event Emmit 2</p>

<h2 id="behavioursubject">BehaviourSubject</h2>

<p>1  behavior subject  lưu các  các next event()  gần nhất, và phát lại cho subscriber mới 
behavior subject  cũng giống với publishsubject chỉ khác  behavior subject  bắt đầu bằng một gía trị mặc định khi khởi tạo, giá trị này có thể bị gi đè ngay sau khi , phần tử mới được thêm vào</p>

<p>code example</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code>     <span class="k">let</span> <span class="nv">subject</span> <span class="o">=</span> <span class="kt">BehaviorSubject</span><span class="p">(</span><span class="nv">value</span><span class="p">:</span> <span class="s">""</span><span class="p">)</span>
     <span class="n">subject</span><span class="o">.</span><span class="nf">onNext</span><span class="p">(</span><span class="s">"Issue 1"</span><span class="p">)</span>

     <span class="n">subject</span><span class="o">.</span><span class="nf">subscribe</span><span class="p">(</span><span class="nv">onNext</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="n">event</span><span class="p">)</span> <span class="k">in</span>

     <span class="nf">print</span><span class="p">(</span><span class="s">"event </span><span class="se">\(</span><span class="n">event</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>

     <span class="p">})</span><span class="o">.</span><span class="nf">disposed</span><span class="p">(</span><span class="nv">by</span><span class="p">:</span> <span class="n">disposeBag</span><span class="p">)</span>

     <span class="n">subject</span><span class="o">.</span><span class="nf">onNext</span><span class="p">(</span><span class="s">"Issue 2"</span><span class="p">)</span>

</code></pre></div></div>
<p>Kêt quả sẽ là</p>

<p>event Issue 1 
 event Issue 2</p>

<h2 id="replaysubject">ReplaySubject</h2>
<p>Là khởi tạo với một kích thước bộ đệm  lưu  các phần tử  gần nhất vào bộ nhớ đệm và sau đó phát lại các phần tử  có trong bộ nhớ đệm cho subcriber mới</p>

<p>code example</p>
<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code>     <span class="k">let</span> <span class="nv">replaySub</span> <span class="o">=</span> <span class="kt">ReplaySubject</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;.</span><span class="nf">create</span><span class="p">(</span><span class="nv">bufferSize</span><span class="p">:</span> <span class="mi">2</span><span class="p">)</span>

     <span class="n">replaySub</span><span class="o">.</span><span class="nf">onNext</span><span class="p">(</span><span class="s">"Issue #1"</span><span class="p">)</span>
     <span class="n">replaySub</span><span class="o">.</span><span class="nf">onNext</span><span class="p">(</span><span class="s">"Issue #2"</span><span class="p">)</span>
     <span class="n">replaySub</span><span class="o">.</span><span class="nf">onNext</span><span class="p">(</span><span class="s">"Issue #3"</span><span class="p">)</span>
     <span class="n">replaySub</span><span class="o">.</span><span class="nf">onNext</span><span class="p">(</span><span class="s">"Issue #5"</span><span class="p">)</span>
     <span class="n">replaySub</span><span class="o">.</span><span class="nf">onNext</span><span class="p">(</span><span class="s">"Issue #6"</span><span class="p">)</span>
     <span class="n">replaySub</span><span class="o">.</span><span class="nf">onNext</span><span class="p">(</span><span class="s">"Issue #7"</span><span class="p">)</span>

     <span class="n">replaySub</span><span class="o">.</span><span class="n">subscribe</span> <span class="p">{</span> <span class="p">(</span><span class="n">event</span><span class="p">)</span> <span class="k">in</span>
         
         <span class="nf">print</span><span class="p">(</span><span class="s">"event </span><span class="se">\(</span><span class="n">event</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
     <span class="p">}</span>
</code></pre></div></div>

<p>Kết quả sẽ là:
 event next(Issue #6)
 event next(Issue #7)</p>

<h3 id="3-combining-observables">3 Combining Observables</h3>
<h2 id="merger">Merger</h2>
<p><img src="https://miro.medium.com/max/1644/1*BAYIw-65VW1Y4hQcRKw3oQ.png" alt="" />
  merge() cho phép kết hợp nhiều  Obseravble bằng cách gộp cái emit lại với nhau</p>

<p>Bạn có thể kết hơp nhiều output của nhiều  Obseravble thành  một Obseravble khi sử dụng   Merger  operator</p>

<p>.merge() complete chỉ khi tất cả các Inner Sequence và source Observable đều complete.</p>

<p>Các Inner Sequence hoạt động đọc lập không liên quan với nhau.</p>

<p>Nếu bết kỳ Inner Sequence nào emit Error thì Source Observable ngay lập tức emit ra Error và terminate.
 code example</p>
<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code>     <span class="k">let</span> <span class="nv">left</span> <span class="o">=</span> <span class="kt">PublishSubject</span><span class="o">&lt;</span><span class="kt">Int</span><span class="o">&gt;</span><span class="p">()</span>
     <span class="k">let</span> <span class="nv">right</span> <span class="o">=</span> <span class="kt">PublishSubject</span><span class="o">&lt;</span><span class="kt">Int</span><span class="o">&gt;</span><span class="p">()</span>

     <span class="k">let</span> <span class="nv">source</span> <span class="o">=</span> <span class="kt">Observable</span><span class="o">.</span><span class="nf">of</span><span class="p">(</span><span class="n">left</span><span class="o">.</span><span class="nf">asObserver</span><span class="p">(),</span><span class="n">right</span><span class="o">.</span><span class="nf">asObserver</span><span class="p">())</span>
     <span class="k">let</span> <span class="nv">obserable</span>  <span class="o">=</span> <span class="n">source</span><span class="o">.</span><span class="nf">merge</span><span class="p">()</span>
     <span class="n">obserable</span><span class="o">.</span><span class="nf">subscribe</span><span class="p">(</span><span class="nv">onNext</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="n">event</span><span class="p">)</span> <span class="k">in</span>
     <span class="nf">print</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
     <span class="p">},</span> <span class="nv">onError</span><span class="p">:</span> <span class="kc">nil</span> <span class="p">,</span> <span class="nv">onCompleted</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>

     <span class="n">left</span><span class="o">.</span><span class="nf">onNext</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
     <span class="n">right</span><span class="o">.</span><span class="nf">onNext</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
     <span class="n">left</span><span class="o">.</span><span class="nf">onNext</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
     <span class="n">left</span><span class="o">.</span><span class="nf">onNext</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>

     <span class="n">right</span><span class="o">.</span><span class="nf">onNext</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
     <span class="n">right</span><span class="o">.</span><span class="nf">onNext</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>
</code></pre></div></div>
<p>Kết quả là 1,4,2,3,5,6</p>

<h2 id="concat">Concat</h2>

<p><img src="https://i.stack.imgur.com/JAyKU.png" alt="" />
 Concat tương tư như  hoạt động của  merge()   sự khác nhau nằm ở chỗ  concat sẽ đợi các luồng trước kết thúc trước rồi đến các luồng sau, còn merger()  thì bạn có thể thay thế output</p>

<p>👉🏼Lưu ý  bạn chỉ có thể nối các chuỗi có cùng kiểu dữ liệu với nhau, nếu nối khác kiểu  sẽ báo lỗi</p>

<p>Example</p>
<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">let</span> <span class="nv">obserable</span> <span class="o">=</span> <span class="kt">Observable</span><span class="o">.</span><span class="nf">concat</span><span class="p">([</span><span class="n">left</span><span class="p">,</span><span class="n">right</span><span class="p">])</span>

<span class="n">obserable</span><span class="o">.</span><span class="nf">subscribe</span><span class="p">(</span><span class="nv">onNext</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="n">event</span><span class="p">)</span> <span class="k">in</span>

<span class="nf">print</span><span class="p">(</span><span class="s">"event </span><span class="se">\(</span><span class="n">event</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>

<span class="p">},</span> <span class="nv">onError</span><span class="p">:</span> <span class="kc">nil</span> <span class="p">,</span> <span class="nv">onCompleted</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span><span class="o">.</span><span class="nf">disposed</span><span class="p">(</span><span class="nv">by</span><span class="p">:</span> <span class="n">disposeBag</span><span class="p">)</span>

<span class="n">left</span><span class="o">.</span><span class="nf">onNext</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">right</span><span class="o">.</span><span class="nf">onNext</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="n">left</span><span class="o">.</span><span class="nf">onNext</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">left</span><span class="o">.</span><span class="nf">onNext</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="n">right</span><span class="o">.</span><span class="nf">onNext</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>

</code></pre></div></div>

<p>Kết quả sẽ là<br />
 event 1
 event 2
 event 3</p>

<p>👉 Lý do 4 không chạy vì luồng left chưa kết thúc nên 4 sẽ không được hiển thị</p>

<h2 id="start-with">Start with</h2>
<p>StartWith được sử dụng khi ta muốn phát sinh sự kiện với một tập giá trị nào đó, sau đó mới phát sinh các tập giá trị được định nghĩa trong Observable.<br />
 Code example</p>
<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  
 <span class="kd">func</span> <span class="nf">startWith</span><span class="p">(){</span>
         <span class="k">let</span> <span class="nv">number</span> <span class="o">=</span> <span class="kt">Observable</span><span class="o">.</span><span class="nf">of</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span>
         <span class="k">let</span> <span class="nv">obserable</span> <span class="o">=</span> <span class="n">number</span><span class="o">.</span><span class="nf">startWith</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
         <span class="n">obserable</span><span class="o">.</span><span class="nf">subscribe</span><span class="p">(</span><span class="nv">onNext</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="n">event</span><span class="p">)</span> <span class="k">in</span>
             <span class="nf">print</span><span class="p">(</span><span class="s">"event </span><span class="se">\(</span><span class="n">event</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
             
         <span class="p">},</span> <span class="nv">onError</span><span class="p">:</span> <span class="kc">nil</span><span class="p">,</span> <span class="nv">onCompleted</span><span class="p">:</span> <span class="kc">nil</span><span class="p">,</span> <span class="nv">onDisposed</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span><span class="o">.</span><span class="nf">dispose</span><span class="p">()</span>
        
     <span class="p">}</span>
</code></pre></div></div>

<p>Kết quả lúc này sẽ là</p>

<p>1,2,3,4,5,6,7</p>

<p>###  4 RxSwift Transforming</p>

<h2 id="map">map</h2>
<p>Rxswift map hoạt động tương tự thư viện chuẩn của swift điểm khác biệt là nó hoạt động trong một observables 
   hép biến đổi Map cho phép ta thực hiện biến đổi ứng với từng phần tử trong Observable Sequence trước khi gửi tới Subscribe
  code example</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  
  <span class="k">let</span> <span class="nv">observable1</span> <span class="o">=</span> <span class="kt">Observable</span><span class="o">.</span><span class="nf">of</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>

  <span class="n">observable1</span><span class="o">.</span><span class="n">map</span> <span class="p">{</span>
      
      <span class="k">return</span>  <span class="nv">$0</span> <span class="o">*</span> <span class="mi">2</span>
  <span class="p">}</span><span class="o">.</span><span class="nf">subscribe</span><span class="p">(</span><span class="nv">onNext</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="n">event</span><span class="p">)</span> <span class="k">in</span>
      <span class="nf">print</span><span class="p">(</span><span class="s">"event </span><span class="se">\(</span><span class="n">event</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
  <span class="p">})</span><span class="o">.</span><span class="nf">disposed</span><span class="p">(</span><span class="nv">by</span><span class="p">:</span> <span class="n">disposeBag</span><span class="p">)</span>
  
</code></pre></div></div>
<p>Kết quả sẽ là 2,4,6</p>

<h2 id="flat-map">flat map</h2>

<p>Đinh nghĩa flatMap biến đổi các thành phần phát ra bởi một Observable trong  thành nhiểu  Observable sau đó gộp lại thành một  Observable duy nhất 
  code example</p>
<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="kd">struct</span> <span class="kt">Player</span> <span class="p">{</span>
      <span class="k">var</span> <span class="nv">score</span><span class="p">:</span><span class="kt">BehaviorRelay</span><span class="o">&lt;</span><span class="kt">Int</span><span class="o">&gt;</span>
      
  <span class="p">}</span>
  
</code></pre></div></div>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="k">let</span> <span class="nv">kevin</span>  <span class="o">=</span> <span class="kt">Player</span><span class="p">(</span><span class="nv">score</span><span class="p">:</span> <span class="kt">BehaviorRelay</span><span class="p">(</span><span class="nv">value</span><span class="p">:</span> <span class="mi">50</span><span class="p">))</span>
  
  <span class="k">let</span> <span class="nv">player</span> <span class="o">=</span> <span class="kt">PublishSubject</span><span class="o">&lt;</span><span class="kt">Player</span><span class="o">&gt;</span><span class="p">()</span>
  
  <span class="n">player</span><span class="o">.</span><span class="nf">asObservable</span><span class="p">()</span><span class="o">.</span><span class="n">flatMap</span> <span class="p">{</span> <span class="nv">$0</span><span class="o">.</span><span class="n">score</span><span class="o">.</span><span class="nf">asObservable</span><span class="p">()}</span><span class="o">.</span><span class="nf">subscribe</span><span class="p">(</span><span class="nv">onNext</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="n">event</span><span class="p">)</span> <span class="k">in</span>
      
      <span class="nf">print</span><span class="p">(</span><span class="s">"event </span><span class="se">\(</span><span class="n">event</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
      <span class="p">})</span><span class="o">.</span><span class="nf">disposed</span><span class="p">(</span><span class="nv">by</span><span class="p">:</span> <span class="n">disposeBag</span><span class="p">)</span>
  
  <span class="n">player</span><span class="o">.</span><span class="nf">onNext</span><span class="p">(</span><span class="n">kevin</span><span class="p">)</span>
  
  
</code></pre></div></div>
<p>Kết quả lúc này sẽ là event 50</p>

<h2 id="flatmaplatest">flatMapLatest</h2>

<p>Sự khác biệt giữa flatMap và flatMapLatest  là nó huỷ trước khi subscription khi  subscription xảy ra</p>
<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  
      <span class="k">let</span> <span class="nv">outerObservable</span> <span class="o">=</span> <span class="kt">Observable</span><span class="o">&lt;</span><span class="kt">Int</span><span class="o">&gt;.</span><span class="nf">interval</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="nv">scheduler</span><span class="p">:</span> <span class="kt">MainScheduler</span><span class="o">.</span><span class="n">instance</span><span class="p">)</span><span class="o">.</span><span class="nf">take</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
      <span class="k">let</span> <span class="nv">combineObservable</span> <span class="o">=</span> <span class="n">outerObservable</span><span class="o">.</span><span class="n">flatMapLatest</span> <span class="p">{</span>  <span class="n">value</span> <span class="k">in</span>
      <span class="k">return</span> <span class="kt">Observable</span><span class="o">&lt;</span><span class="kt">NSInteger</span><span class="o">&gt;.</span><span class="nf">interval</span><span class="p">(</span><span class="mf">0.3</span><span class="p">,</span> <span class="nv">scheduler</span><span class="p">:</span> <span class="kt">MainScheduler</span><span class="o">.</span><span class="n">instance</span><span class="p">)</span><span class="o">.</span><span class="nf">take</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">map</span> <span class="p">{</span>  <span class="n">inerValue</span> <span class="k">in</span>
      <span class="nf">print</span><span class="p">(</span><span class="s">"Outer value </span><span class="se">\(</span><span class="n">value</span><span class="se">)</span><span class="s"> Iner Value </span><span class="se">\(</span><span class="n">inerValue</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
      <span class="p">}</span>
      <span class="p">}</span>
      <span class="n">combineObservable</span><span class="o">.</span><span class="nf">subscribe</span><span class="p">(</span><span class="nv">onNext</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="n">event</span><span class="p">)</span> <span class="k">in</span>
      <span class="nf">print</span><span class="p">(</span><span class="s">"event </span><span class="se">\(</span><span class="n">event</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
      <span class="p">},</span> <span class="nv">onError</span><span class="p">:</span> <span class="kc">nil</span><span class="p">,</span> <span class="nv">onCompleted</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span><span class="o">.</span><span class="nf">disposed</span><span class="p">(</span><span class="nv">by</span><span class="p">:</span> <span class="n">disposeBag</span><span class="p">)</span>
</code></pre></div></div>

<p>Kết quả sẽ là</p>

<p>Outer value 0 Iner Value 0
  event ()
  Outer value 1 Iner Value 0
  event ()
  Outer value 1 Iner Value 1
  event ()
  Outer value 1 Iner Value 2
  event ()</p>

<h3 id="filtering-operators">Filtering Operators</h3>

<h2 id="element-at">Element at</h2>
<p>Sẽ lấy một phần tử nằm ở một vị trí xác định trong chuỗi mà bạn muốn nhận được và bỏ qua</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   
         <span class="k">let</span> <span class="nv">observable1</span> <span class="o">=</span> <span class="kt">Observable</span><span class="o">.</span><span class="nf">of</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>

        <span class="n">observable1</span><span class="o">.</span><span class="nf">elementAt</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="nf">subscribe</span><span class="p">(</span><span class="nv">onNext</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="n">event</span><span class="p">)</span> <span class="k">in</span>
            <span class="nf">print</span><span class="p">(</span><span class="s">"event: </span><span class="se">\(</span><span class="n">event</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
        <span class="p">})</span><span class="o">.</span><span class="nf">disposed</span><span class="p">(</span><span class="nv">by</span><span class="p">:</span> <span class="n">disposeBag</span><span class="p">)</span>
   
</code></pre></div></div>

<p>Kết quả lúc này sẽ là 3</p>

<h2 id="filter">Filter</h2>

<p>Chỉ phát ra những phần tử thoả mãn điều kiện 
   code example</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  
      <span class="k">let</span> <span class="nv">observable1</span> <span class="o">=</span> <span class="kt">Observable</span><span class="o">.</span><span class="nf">of</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span>
      
      <span class="n">observable1</span><span class="o">.</span><span class="n">filter</span> <span class="p">{</span> <span class="nv">$0</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span>
      
      <span class="p">}</span><span class="o">.</span><span class="nf">subscribe</span><span class="p">(</span><span class="nv">onNext</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="n">event</span><span class="p">)</span> <span class="k">in</span>
      
      <span class="nf">print</span><span class="p">(</span><span class="s">"event </span><span class="se">\(</span><span class="n">event</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
      <span class="p">})</span><span class="o">.</span><span class="nf">disposed</span><span class="p">(</span><span class="nv">by</span><span class="p">:</span> <span class="n">disposeBag</span><span class="p">)</span>
  
</code></pre></div></div>

<p>###  Skipping operators
  Cho phép bỏ qua phần tử khi  truyền vào 1 prametter</p>

<p>code example</p>
<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="k">let</span> <span class="nv">observable1</span> <span class="o">=</span> <span class="kt">Observable</span><span class="o">.</span><span class="nf">of</span><span class="p">(</span><span class="s">"A"</span><span class="p">,</span><span class="s">"B"</span><span class="p">,</span><span class="s">"C"</span><span class="p">,</span><span class="s">"D"</span><span class="p">,</span><span class="s">"E"</span><span class="p">,</span><span class="s">"F"</span><span class="p">)</span>
  
    <span class="n">observable1</span><span class="o">.</span><span class="nf">skip</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">subscribe</span> <span class="p">{</span> <span class="p">(</span><span class="n">event</span><span class="p">)</span> <span class="k">in</span>
  
  <span class="nf">print</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
  <span class="p">}</span><span class="o">.</span><span class="nf">disposed</span><span class="p">(</span><span class="nv">by</span><span class="p">:</span> <span class="n">disposeBag</span><span class="p">)</span>
  
  
</code></pre></div></div>
<p>kêt quả sẽ là 
  next(B)
  next(C)
  next(D)
  next(E)
  next(F)
  completed
  ###  skipWhile</p>

<h2 id="take">Take</h2>

<p>Phát ra phần tử đầu tiên thứ n trong chuỗi 
  n-&gt; là parmater truyền vào take ()</p>

<p>code example</p>

<pre><code class="language-swif">  
   Observable.of(1,2,3,4,5,6).take(2).subscribe { (event) in
       
       print(event)
   }.disposed(by: disposeBag)

</code></pre>
<p>Kết quả sẽ là 1,2</p>

<h2 id="take-while">Take while</h2>

<p>Take while 
Đối chiếu nhiều item đuợc phát ra bởi môt Observable cho đến khi một điều kiện cụ thể  false 
<img src="http://reactivex.io/documentation/operators/images/takeWhile.c.png" alt="" /></p>

<p>code example</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        <span class="kt">Observable</span><span class="o">.</span><span class="nf">of</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">takeWhile</span> <span class="p">{</span>
            
            <span class="k">return</span> <span class="nv">$0</span> <span class="o">%</span> <span class="mi">2</span>  <span class="o">==</span> <span class="mi">0</span> 
        <span class="p">}</span><span class="o">.</span><span class="nf">subscribe</span><span class="p">(</span><span class="nv">onNext</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="n">event</span><span class="p">)</span> <span class="k">in</span>
            <span class="nf">print</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
            <span class="p">})</span><span class="o">.</span><span class="nf">disposed</span><span class="p">(</span><span class="nv">by</span><span class="p">:</span> <span class="n">disposeBag</span><span class="p">)</span>

</code></pre></div></div>
<p>Take while sẽ đối chiếu nguồn Observable cho đến khi điều kiện false thì TakeWhile dừng việc đối chiếu nguồn Observable và kết thúc Observable</p>

<h2 id="take-until">Take until</h2>

<p>Loại bỏ bất kỳ  items nào được phát ra bởi một  Observable  sau  1 giây Observable phát ra 1 item hoặc kết thúc</p>

<p><img src="http://reactivex.io/documentation/operators/images/takeUntil.png" alt="" /></p>

<p>code example</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">subject</span> <span class="o">=</span> <span class="kt">PublishSubject</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="p">()</span>
        <span class="k">let</span> <span class="nv">trigger</span> <span class="o">=</span> <span class="kt">PublishSubject</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="p">()</span>
        
        <span class="n">subject</span><span class="o">.</span><span class="nf">takeUntil</span><span class="p">(</span><span class="n">trigger</span><span class="p">)</span><span class="o">.</span><span class="nf">subscribe</span><span class="p">(</span><span class="nv">onNext</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="n">event</span><span class="p">)</span> <span class="k">in</span>
            
            <span class="nf">print</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
            
        <span class="p">})</span><span class="o">.</span><span class="nf">disposed</span><span class="p">(</span><span class="nv">by</span><span class="p">:</span> <span class="n">disposeBag</span><span class="p">)</span>
        
        <span class="n">subject</span><span class="o">.</span><span class="nf">onNext</span><span class="p">(</span><span class="s">"event 1"</span><span class="p">)</span>
        <span class="n">trigger</span><span class="o">.</span><span class="nf">onNext</span><span class="p">(</span><span class="s">"X"</span><span class="p">)</span>

        <span class="n">subject</span><span class="o">.</span><span class="nf">onNext</span><span class="p">(</span><span class="s">"event 2"</span><span class="p">)</span>
        
        <span class="n">trigger</span><span class="o">.</span><span class="nf">onNext</span><span class="p">(</span><span class="s">"event 3"</span><span class="p">)</span>
</code></pre></div></div>
<p>kết quả sẽ là 1</p>

<h3 id="ứng-dụng-thực-tế">Ứng dụng thực tế</h3>

<ul>
  <li><a href="https://github.com/codedeman/TT101/tree/f679be78c195e621b6a28b66c75c4bb8dc2c4cf5">App tin tức  </a></li>
</ul>

<p><img src="https://i.imgur.com/V9a86Wi.gif" /></p>

<ul>
  <li><a href="https://github.com/codedeman/todolistApp-">App Todolist</a></li>
</ul>

<p><img src="https://i.imgur.com/VicRxCP.gif" /></p>

<p>Bài viết này  là những gì mình học được trong những ngày tháng tiếp cận với Rx swift nên không  thể trách  nhiều thiếu sót mong các bậc cao nhân góp ý giúp mình để mình cải thiện trong bài viết sau<br />
mọi thông tin góp ý xin gửi về địa chỉ 
phamtrungkiendev@gmail.com</p>

<p>*<a href="https://medium.com/ios-os-x-development/learn-and-master-%EF%B8%8F-the-basics-of-rxswift-in-10-minutes-818ea6e0a05b">Bài viết này được tham khảo theo nguồn</a></p>


  </div>

  <div class="date">
    Written on December 28, 2019
  </div>

  <!-- <div id="disqus_thread"></div>
<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://codedeman.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
                             -->
</article>
<div id="disqus_thread"></div>
<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://codedeman.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
                            
<!-- <div class="fb-comments" data-href="https://codedeman.github.io/rxswiftsieutoc/" data-width="100%" data-numposts="5"></div> -->



    </div>

    <div class="wrapper-footer">
      <div class="container">
        <footer class="footer">
          



<a href="https://github.com//codedeman"><i class="svg-icon github"></i></a>

<a href="https://www.linkedin.com/in/kien-pham-514274141"><i class="svg-icon linkedin"></i></a>


<a href="https://www.twitter.com//kevinpham30"><i class="svg-icon twitter"></i></a>



        </footer>
      </div>
    </div>

    

  </body>
  
  <body>
  
  <div id="fb-root"></div>
<script async defer crossorigin="anonymous" src="https://connect.facebook.net/en_GB/sdk.js#xfbml=1&version=v6.0&appId=996438507422862&autoLogAppEvents=1"></script>
  </body>
  
  <body>
  <div id="fb-root"></div>
<script async defer crossorigin="anonymous" src="https://connect.facebook.net/en_GB/sdk.js#xfbml=1&version=v6.0&appId=996438507422862&autoLogAppEvents=1"></script>
  </body>
</html>
